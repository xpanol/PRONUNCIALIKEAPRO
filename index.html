<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PRO!NUNCIA LIKE A PRO!</title>
<link href="https://fonts.googleapis.com/css?family=Special+Elite&display=swap" rel="stylesheet">
<style>
/* --- BASE STYLES --- */
:root {
    --bg-english: #111;
    --text-english: white;
    --accent-english: #F8AC10;
    --bg-spanish: #F8AC10;
    --text-spanish: black;
    --accent-spanish: #D9171A;
}

body {
    font-family: 'Special Elite', monospace;
    background-color: var(--bg-english);
    color: var(--text-english);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 20px;
    box-sizing: border-box;
    text-align: center;
    transition: background-color 0.5s ease, color 0.5s ease;
    overflow-x: hidden;
}

body.english { background-color: var(--bg-english); color: var(--text-english); }
body.spanish { background-color: var(--bg-spanish); color: var(--text-spanish); }

h1 {
    margin: 10px 0 30px 0;
    font-size: clamp(2rem, 5vw, 2.8em);
    line-height: 1.1;
    color: inherit;
}
h1 span {
    display: block;
    font-size: 0.9em;
    margin-top: 5px;
    opacity: 0.9;
}

/* --- MENU & NAVIGATION --- */
.language-switcher {
    margin-bottom: 30px;
    position: relative;
    z-index: 100;
    display: flex;
    justify-content: center;
    gap: 10px;
}

.lang-group { position: relative; }

.main-lang-btn {
    background-color: black;
    color: white;
    border: none; 
    padding: 10px 15px;
    font-size: 1.1em;
    cursor: pointer;
    font-family: 'Special Elite', monospace;
    border-radius: 8px;
    box-shadow: 0 4px 0 rgba(0,0,0,0.2);
    transition: all 0.2s ease;
    height: 55px;
    min-width: 140px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.main-lang-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(0,0,0,0.2); }

#englishSectionButton.active, #englishSectionButton:hover { background-color: white; color: black; }
#spanishSectionButton { background-color: var(--accent-english); color: black; }
#spanishSectionButton.active, #spanishSectionButton:hover { background-color: var(--accent-spanish); color: white; }

.dialect-menu {
    display: none;
    position: absolute;
    top: 110%;
    left: 0;
    width: 100%;
    background-color: white;
    border: 2px solid black;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    flex-direction: column;
    z-index: 101;
}
.dialect-menu.show { display: flex; animation: fadeIn 0.2s ease; }

.dialect-menu button {
    width: 100%;
    font-family: inherit;
    font-size: 1em;
    border: none;
    border-bottom: 1px solid #eee;
    padding: 12px;
    cursor: pointer;
    background-color: white;
    color: black;
    transition: background 0.2s;
}
.dialect-menu button:hover { background-color: #f0f0f0; font-weight: bold; }

/* --- FLASHCARD AREA (DOMY≈öLNE WIDOK PIONOWY) --- */
.flashcard {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex-grow: 1;
    margin-bottom: 30px;
    width: 100%;
}

#currentWord {
    /* WIDOK PIONOWY (DEFAULT) */
    font-size: clamp(3.5rem, 15vw, 10em);
    margin: 0 0 10px 0;
    line-height: 1.1;
    word-break: break-word;
}

#phoneticTranscription {
    /* WIDOK PIONOWY (DEFAULT) */
    font-size: clamp(3rem, 10vw, 7em); 
    margin: 0 0 20px 0;
    font-family: 'Courier New', monospace;
    line-height: 1;
    min-height: 1.2em;
    font-weight: bold;
}

#contextInfo {
    font-size: 1.2em;
    opacity: 0.8;
    background: rgba(0,0,0,0.1);
    padding: 5px 15px;
    border-radius: 20px;
}

/* --- CONTROLS --- */
.button-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 400px;
}

.navigation-row {
    display: flex;
    justify-content: space-between;
    width: 100%;
    gap: 15px;
}

.control-btn {
    font-size: 1.2em;
    font-family: 'Special Elite', monospace;
    cursor: pointer;
    transition: all 0.2s ease;
    border-radius: 8px;
    border: none; 
    box-shadow: 0 4px 0 rgba(0,0,0,0.2);
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
}
.control-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 rgba(0,0,0,0.2); }

#playAudioButton {
    width: 100%;
    font-size: 1.4em;
    background-color: var(--accent-spanish);
    color: white;
    margin-bottom: 15px;
    border: none;
}
#playAudioButton:hover { background-color: white; color: black; }

.nav-btn { width: 48%; }
body.english .nav-btn { background-color: var(--accent-english); color: black; }
body.english .nav-btn:hover { background-color: white; }
body.spanish .nav-btn { background-color: black; color: white; }
body.spanish .nav-btn:hover { background-color: white; color: black; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

@media (max-width: 600px) {
    .language-switcher { flex-direction: row; flex-wrap: wrap; }
    .main-lang-btn { font-size: 1em; height: 50px; min-width: 120px; }
    .control-btn { height: 50px; font-size: 1em; }
}

/* ZMIANY DLA WIDOKU POZIOMEGO (Landscape) */
@media (orientation: landscape) {
    /* Zmniejszenie g≈Ç√≥wnego s≈Çowa o po≈Çowƒô */
    #currentWord {
        font-size: clamp(1.75rem, 7.5vw, 5em); 
    }

    /* Zmniejszenie zapisu fonetycznego o po≈Çowƒô */
    #phoneticTranscription {
        font-size: clamp(1.5rem, 5vw, 3.5em); 
    }
}

/* Niewidzialny spacer wymuszajƒÖcy przewijanie na kr√≥tkich ekranach */
.spacer {
    height: 10px; 
    visibility: hidden;
}
</style>
</head>
<body class="english">

    <h1>PRO!NUNCIA<br><span>LIKE A PRO!</span></h1>

    <div class="language-switcher">
        <div class="lang-group">
            <button id="englishSectionButton" class="main-lang-btn active">English üá∫üá∏üá¨üáß</button>
            <div id="englishMenu" class="dialect-menu">
                <button data-dialect="1">üá∫üá∏ Gen. Am.</button>
                <button data-dialect="2">üá¨üáß UK-RP</button>
            </div>
        </div>

        <div class="lang-group">
            <button id="spanishSectionButton" class="main-lang-btn">Espa√±ol üá™üá∏üá≤üáΩ</button>
            <div id="spanishMenu" class="dialect-menu">
                <button data-dialect="1">üá™üá∏ Castilian</button>
                <button data-dialect="2">üá≤üáΩ Lat. Am.</button>
            </div>
        </div>
    </div>

    <div class="flashcard">
        <div id="currentWord">Loading...</div>
        <div id="phoneticTranscription"></div>
        <div id="contextInfo"></div>
    </div>

    <div class="button-group">
        <button id="playAudioButton" class="control-btn" title="Press Spacebar">PLAY AUDIO üéß</button>
        <div class="navigation-row">
            <button id="prevButton" class="control-btn nav-btn" title="Left Arrow">‚Üê Previous</button>
            <button id="nextButton" class="control-btn nav-btn" title="Right Arrow">Next ‚Üí</button>
        </div>
    </div>
    
    <div class="spacer"></div>

<script>
// --- DATA ---
const ALL_WORDS_DATA = [
    { word:"objetivos", lang:"ES", ipa:"oŒ≤xeÀàtiŒ≤os", difficulty:"J / V" },
    { word:"trimestre", lang:"ES", ipa:"t…æiÀàmest…æe", difficulty:"TR / R" },
    { word:"dise√±o", lang:"ES", ipa:"diÀàse…≤o", difficulty:"√ë" },
    { word:"campa√±a", lang:"ES", ipa:"kamÀàpa…≤a", difficulty:"√ë" },
    { word:"propuesta", lang:"ES", ipa:"p…æoÀàpwesta", difficulty:"PR / UE" },
    { word:"aclarar", lang:"ES", ipa:"aklaÀà…æa…æ", difficulty:"R" },
    { word:"reuni√≥n", lang:"ES", ipa:"re.uÀànjon", difficulty:"Accent / Hiato" },
    { word:"coordinar", lang:"ES", ipa:"ko.o…æ√∞iÀàna…æ", difficulty:"Hiato O.O" },
    { word:"desarrollo", lang:"ES", ipa:"desaÀàro éo", difficulty:"RR / LL" },
    { word:"√©xito", lang:"ES", ipa:"ÀàeŒ∏sito", ipa2:"Ààesito", difficulty:"X ([Œ∏s]/[s])" },
    { word:"engagement", lang:"EN", ipa:"…™nÀà…°e…™d ím…ônt", difficulty:"Accent / -ge-" },
    { word:"quarter", lang:"EN", ipa:"Ààkw…îÀêrt…ôr", ipa2:"Ààkw…îÀêt…ô", difficulty:"R (Am/UK)" },
    { word:"schedule", lang:"EN", ipa:"Ààsked íuÀêl", ipa2:"Àà ÉedjuÀêl", difficulty:"Dialect Differences" },
    { word:"objective", lang:"EN", ipa:"…ôbÀàd íekt…™v", difficulty:"Accent / Schwa […ô]" },
    { word:"priorities", lang:"EN", ipa:"pra…™Àà…îÀêr…™tiz", ipa2:"pra…™Àà…ír…™t…™z", difficulty:"Vowels / Accent" },
    { word:"thoroughly", lang:"EN", ipa:"ÀàŒ∏ år…ôli", difficulty:"TH / Silent GH" },
    { word:"hierarchy", lang:"EN", ipa:"Ààha…™…ôÀår…ëÀêrki", difficulty:"CH ([k]) / Accent" },
    { word:"measure", lang:"EN", ipa:"Ààme í…ôr", difficulty:"[ í] (soft G)" } 
];

// --- STATE ---
let currentLanguage = "EN";
let filteredWords = [];
let currentIndex = 0;
let selectedDialect = "1";

// --- DOM ELEMENTS ---
const elements = {
    word: document.getElementById('currentWord'),
    phonetic: document.getElementById('phoneticTranscription'),
    context: document.getElementById('contextInfo'),
    btnPlay: document.getElementById('playAudioButton'),
    btnNext: document.getElementById('nextButton'),
    btnPrev: document.getElementById('prevButton'),
    btnEng: document.getElementById('englishSectionButton'),
    btnEsp: document.getElementById('spanishSectionButton')
};

// ELEMENTY DO PRZEWIJANIA: Kontener prze≈ÇƒÖcznik√≥w jƒôzykowych i Fisza
const languageSwitcher = document.querySelector('.language-switcher');
const flashcardElement = document.querySelector('.flashcard');


// --- INITIALIZATION ---
function init() {
    // Nie przewijaj przy inicjalizacji
    updateSection("EN", "1", false); 
    setupEventListeners();
}

// --- CORE FUNCTIONS ---

function updateSection(lang, dialect, shouldScroll = true) {
    currentLanguage = lang;
    selectedDialect = dialect;

    filteredWords = ALL_WORDS_DATA.filter(w => w.lang === lang);
    currentIndex = 0;

    document.body.className = lang === "EN" ? "english" : "spanish";
    elements.btnEng.classList.toggle('active', lang === "EN");
    elements.btnEsp.classList.toggle('active', lang === "ES");
    closeAllMenus();
    displayWord(currentIndex);
    
    // LOGIKA PRZEWIJANIA: Przewijamy do fiszki TYLKO w orientacji poziomej
    if (shouldScroll && flashcardElement && window.matchMedia("(orientation: landscape)").matches) {
        flashcardElement.scrollIntoView({ 
            behavior: 'smooth', 
            block: 'start' // Ustawia g√≥rƒô fiszki na g√≥rze okna
        });
    }
    // Je≈õli nie jeste≈õmy w trybie landscape, przewijanie pozostaje nieaktywne (albo dzia≈Ça na poprzednich zasadach, ale tu celujemy w flashcard)
}

function displayWord(index) {
    if (!filteredWords.length) return;
    const data = filteredWords[index];
    
    elements.word.style.opacity = 0;
    setTimeout(() => {
        elements.word.textContent = data.word;
        const showSecondIPA = (selectedDialect === "2" && data.ipa2);
        
        elements.phonetic.textContent = showSecondIPA ? data.ipa2 : data.ipa;
        
        // --- LOGIKA WIDOCZNO≈öCI ---
        if (currentLanguage === "EN") {
            // Ciemne t≈Ço: ≈ª√≥≈Çty tekst z subtelnym bia≈Çym cieniem (glow)
            elements.phonetic.style.color = "#F8AC10";
            elements.phonetic.style.textShadow = "0 0 5px rgba(255, 255, 255, 0.4)";
        } else {
            // Jasne t≈Ço (Hiszpa≈Ñski): Bia≈Çy tekst z DELIKATNYM czarnym cieniem
            elements.phonetic.style.color = "white"; 
            elements.phonetic.style.textShadow = "2px 2px 4px rgba(0, 0, 0, 0.7)";
        }
        // ------------------------------------

        const langName = currentLanguage === "EN" ? "English" : "Espa√±ol";
        const dialectName = currentLanguage === "EN" 
            ? (selectedDialect === "1" ? "Gen. Am." : "UK-RP") 
            : (selectedDialect === "1" ? "Castilian" : "Lat. Am.");
        
        elements.context.textContent = `${langName} | ${dialectName} ${data.difficulty ? "| Focus: " + data.difficulty : ""}`;
        elements.word.style.opacity = 1;
    }, 150);
}

function playAudio() {
    const data = filteredWords[currentIndex];
    const baseName = data.word.toLowerCase()
        .replace(/ /g,'_')
        .normalize("NFD").replace(/[\u0300-\u036f]/g,"");
    
    const audioPath = data.ipa2 ? `audio/${baseName}_${selectedDialect}.mp3` : `audio/${baseName}.mp3`;
    
    const audio = new Audio(audioPath);
    audio.play().catch(e => {
        console.error("Audio error:", e);
    });
}

function nextWord() {
    currentIndex = (currentIndex + 1) % filteredWords.length;
    displayWord(currentIndex);
}

function prevWord() {
    currentIndex = (currentIndex - 1 + filteredWords.length) % filteredWords.length;
    displayWord(currentIndex);
}

function toggleMenu(menuId, event) {
    event.stopPropagation();
    const menu = document.getElementById(menuId);
    const isVisible = menu.classList.contains('show');
    closeAllMenus();
    if (!isVisible) menu.classList.add('show');
}

function closeAllMenus() {
    document.querySelectorAll('.dialect-menu').forEach(el => el.classList.remove('show'));
}

function setupEventListeners() {
    elements.btnEng.onclick = (e) => toggleMenu('englishMenu', e);
    elements.btnEsp.onclick = (e) => toggleMenu('spanishMenu', e);
    elements.btnNext.onclick = nextWord;
    elements.btnPrev.onclick = prevWord;
    elements.btnPlay.onclick = playAudio;

    document.querySelectorAll('#englishMenu button').forEach(btn => {
        btn.onclick = () => updateSection("EN", btn.dataset.dialect, true);
    });
    document.querySelectorAll('#spanishMenu button').forEach(btn => {
        btn.onclick = () => updateSection("ES", btn.dataset.dialect, true);
    });

    window.onclick = () => closeAllMenus();

    document.addEventListener('keydown', (e) => {
        if (e.key === "ArrowRight") nextWord();
        if (e.key === "ArrowLeft") prevWord();
        if (e.key === " " || e.key === "Enter") {
            e.preventDefault();
            playAudio();
        }
    });
}

init();
</script>
</body>
</html>