<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>PRO!NUNCIA LIKE A PRO!</title>
<link href="https://fonts.googleapis.com/css?family=Special+Elite&display=swap" rel="stylesheet" />
<style>
/* TU WSZYSTKIE TWOJE STYLE - NIC NIE RUSZAJ */
body {
    font-family: 'Special Elite', monospace;
    background-color: #111;
    color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 20px;
    text-align: center;
}
body.spanish { background-color: #F8AC10; color: black; }

h1 { margin:10px 0 30px 0; font-size: clamp(2rem, 5vw, 2.8em); }
h1 span { display: block; font-size: 0.9em; margin-top:5px; }

.language-switcher { margin-bottom: 30px; display: flex; gap:10px; justify-content:center; position:relative; }
.lang-group { position:relative; }

.main-lang-btn { cursor:pointer; border:none; padding:10px 15px; font-size:1.1em; border-radius:8px; }
.main-lang-btn.active { font-weight:bold; }

.dialect-menu { display:none; position:absolute; top:110%; left:0; background:white; border:2px solid black; border-radius:8px; flex-direction:column; }
.dialect-menu.show { display:flex; }

.flashcard { display:flex; flex-direction:column; align-items:center; justify-content:center; margin-bottom:30px; }
#currentWord { font-size:clamp(3.5rem,15vw,10em); }
#phoneticTranscription { font-size:clamp(3rem,10vw,7em); font-weight:bold; min-height:1.2em; }
#contextInfo { font-size:1.2em; opacity:0.8; background: rgba(0,0,0,0.1); padding:5px 15px; border-radius:20px; }

.button-group { display:flex; flex-direction:column; align-items:center; max-width:400px; width:100%; }
.navigation-row { display:flex; justify-content:space-between; width:100%; gap:15px; }
.control-btn { cursor:pointer; border-radius:8px; padding:10px; flex:1; }
#playAudioButton { margin-bottom:15px; }

.spacer { height:10px; visibility:hidden; }
</style>
</head>
<body class="english">

<h1>PRO!NUNCIA<br><span>LIKE A PRO!</span></h1>

<div class="language-switcher">
    <div class="lang-group">
        <button id="englishSectionButton" class="main-lang-btn active">English 游쥟릖젏릖섫릖</button>
        <div id="englishMenu" class="dialect-menu">
            <button data-dialect="1">游쥟릖 Gen. Am.</button>
            <button data-dialect="2">游섫릖 UK-RP</button>
        </div>
    </div>

    <div class="lang-group">
        <button id="spanishSectionButton" class="main-lang-btn">Espa침ol 游쀯릖젏릖쓇릖</button>
        <div id="spanishMenu" class="dialect-menu">
            <button data-dialect="1">游쀯릖 Castilian</button>
            <button data-dialect="2">游쓇릖 Lat. Am.</button>
        </div>
    </div>
</div>

<div class="flashcard">
    <div id="currentWord">Loading...</div>
    <div id="phoneticTranscription"></div>
    <div id="contextInfo"></div>
</div>

<div class="button-group">
    <button id="playAudioButton" class="control-btn" title="Press Spacebar">PLAY AUDIO 游꿚</button>
    <div class="navigation-row">
        <button id="prevButton" class="control-btn nav-btn" title="Left Arrow">- Previous</button>
        <button id="nextButton" class="control-btn nav-btn" title="Right Arrow">Next -</button>
    </div>
</div>

<div class="spacer"></div>

<script>
const ALL_WORDS_DATA = [
  { word:"budget", ipa:"틛b툷d뉄뿂", ipa2:"틛b툷d뉄뿂" },
  { word:"client", ipa:"틛kla톩톛nt", ipa2:"틛kla톩톛nt" },
  { word:"strategy", ipa:"틛str칝t톛d뇰", ipa2:"틛str칝t톛d뇰" },
  { word:"report", ipa:"r톩틛p톖틣rt", ipa2:"r톩틛p톖틣t" },
  { word:"engagement", ipa:"톩n틛토e톩d뇴톛nt", ipa2:"톩n틛토e톩d뇴톛nt" },
  { word:"quarter", ipa:"틛kw톖틣rt톛r", ipa2:"틛kw톖틣t톛" },
  { word:"schedule", ipa:"틛sked뇻틣l", ipa2:"틛툮edju틣l" },
  { word:"objective", ipa:"톛b틛d뇬kt톩v", ipa2:"톛b틛d뇬kt톩v" },
  { word:"priorities", ipa:"pra톩틛톖틣r톩tiz", ipa2:"pra톩틛r톩t톩z" },
  { word:"thoroughly", ipa:"틛풪툷r톛li", ipa2:"틛풪툷r톛li" },
  { word:"hierarchy", ipa:"틛ha톩톛틟r톔틣rki", ipa2:"틛ha톩톛틟r톔틣rki" },
  { word:"measure", ipa:"틛me뉄r", ipa2:"틛me뉄r" },
  { word:"revenue", ipa:"틛r톝v톛틟nju틣", ipa2:"틛r톝v톛틟nju틣" },
  { word:"discount", ipa:"틛d톩ska툵nt", ipa2:"틛d톩ska툵nt" }
];

const ALL_WORDS_DATA_ES = []; // hiszpa켻skie s켹owa bez audio

let currentLanguage = "EN";
let filteredWords = [];
let currentIndex = 0;
let selectedDialect = "1";

const elements = {
    word: document.getElementById('currentWord'),
    phonetic: document.getElementById('phoneticTranscription'),
    btnPlay: document.getElementById('playAudioButton'),
    btnNext: document.getElementById('nextButton'),
    btnPrev: document.getElementById('prevButton'),
    btnEng: document.getElementById('englishSectionButton'),
    btnEsp: document.getElementById('spanishSectionButton'),
    context: document.getElementById('contextInfo')
};

function updateSection(lang, dialect, shouldScroll=true){
    currentLanguage = lang;
    selectedDialect = dialect;
    filteredWords = lang==="EN"? ALL_WORDS_DATA.slice() : ALL_WORDS_DATA_ES.slice();
    currentIndex = 0;
    document.body.className = lang==="EN"? "english" : "spanish";
    elements.btnEng.classList.toggle('active', lang==="EN");
    elements.btnEsp.classList.toggle('active', lang==="ES");
    closeAllMenus();
    displayWord(currentIndex);
    if(shouldScroll) document.querySelector('.flashcard').scrollIntoView({behavior:'smooth'});
}

function displayWord(index){
    if(!filteredWords.length){
        elements.word.textContent="No words";
        elements.phonetic.textContent="";
        elements.context.textContent="";
        return;
    }
    const data = filteredWords[index];
    elements.word.textContent = data.word;
    const showSecondIPA = selectedDialect==="2" && data.ipa2;
    elements.phonetic.textContent = showSecondIPA ? data.ipa2 : data.ipa;
    elements.phonetic.style.color = currentLanguage==="EN"? "#F8AC10" : "white";
    elements.context.textContent = (currentLanguage==="EN"?"English":"Espa침ol")+" | "+(selectedDialect==="1"?(currentLanguage==="EN"?"Gen. Am.":"Castilian"):(currentLanguage==="EN"?"UK-RP":"Lat. Am."));
}

function playAudio(){
    if(!filteredWords.length) return;
    const data = filteredWords[currentIndex];
    const path = `audio/${data.word.toLowerCase()}.mp3`;
    const audio = new Audio(path);
    audio.play().catch(err=>console.warn("Audio error:", path, err));
}

function nextWord(){ if(filteredWords.length){ currentIndex=(currentIndex+1)%filteredWords.length; displayWord(currentIndex); } }
function prevWord(){ if(filteredWords.length){ currentIndex=(currentIndex-1+filteredWords.length)%filteredWords.length; displayWord(currentIndex); } }

function toggleMenu(menuId,e){ e.stopPropagation(); const menu=document.getElementById(menuId); const show=menu.classList.contains('show'); closeAllMenus(); if(!show) menu.classList.add('show'); }
function closeAllMenus(){ document.querySelectorAll('.dialect-menu').forEach(el=>el.classList.remove('show')); }

function setupEventListeners(){
    elements.btnEng.onclick=(e)=>toggleMenu('englishMenu',e);
    elements.btnEsp.onclick=(e)=>toggleMenu('spanishMenu',e);
    elements.btnNext.onclick=nextWord;
    elements.btnPrev.onclick=prevWord;
    elements.btnPlay.onclick=playAudio;
    document.querySelectorAll('#englishMenu button').forEach(btn=>btn.onclick=()=>updateSection("EN",btn.dataset.dialect,true));
    document.querySelectorAll('#spanishMenu button').forEach(btn=>btn.onclick=()=>updateSection("ES",btn.dataset.dialect,true));
    window.onclick=closeAllMenus;
    document.addEventListener('keydown',e=>{
        if(e.code==='Space'||e.key===' '){ e.preventDefault(); playAudio(); }
        if(e.key==='ArrowRight') nextWord();
        if(e.key==='ArrowLeft') prevWord();
    });
}

// start
updateSection("EN","1",false);
setupEventListeners();
</script>

</body>
</html>